#include <stdio.h>

float somaf(float num1, float num2) {
    return num1 + num2;
}

float subtracaof(float num1, float num2) {
    return num1 - num2;
}

float multiplicacaof(float num1, float num2) {
    return num1 * num2;
}

float divisaof(float num1, float num2) {
    if (num2 == 0) {
        printf("Não é possível realizar uma divisão por zero!\n");
        return 0;
    } else {
        return num1 / num2;
    }
}

float potenciaf(float num1, int num2) {
    float resultado = 1;
    for (int i = 0; i < num2; i++) {
        resultado *= num1;
    }
    return resultado;
}

float porcentagemf(float num1, float num2) {
    return (num1 * num2) / 100;
}

int main() {
    float numero, resultado = 0;
    char operador, resposta;
    int entrada;

    printf("Seja bem-vindo à calculadora do Syminho !!!\n");

    do {
        printf("\nDigite uma operação:\n");
        entrada = 1;  // Resetar a entrada para cada novo cálculo

        while (1) {
            if (entrada) {
                scanf("%f", &numero);
                resultado = numero;
                entrada = 0;
            } else {
                scanf(" %c", &operador);
                if (operador == '=') {
                    printf("Resultado: %.2f\n", resultado);
                    break;
                } else {
                    scanf("%f", &numero);
                    switch (operador) {
                        case '+':
                            resultado = somaf(resultado, numero);
                            break;
                        case '-':
                            resultado = subtracaof(resultado, numero);
                            break;
                        case '*':
                            resultado = multiplicacaof(resultado, numero);
                            break;
                        case '/':
                            resultado = divisaof(resultado, numero);
                            break;
                        case '^':
                            resultado = potenciaf(resultado, (int)numero);
                            break;
                        case '%':
                            resultado = porcentagemf(resultado, numero);
                            break;
                        default:
                            printf("\nO operador digitado não condiz com a opção. Tente novamente!\n");
                            return 1;
                    }
                }
            }
        }
        
        printf("\nDeseja efetuar outro cálculo? (s/n): ");
        scanf(" %c", &resposta);
      
        if (resposta == 'n') {
            printf("\nObrigado por utilizar a calculadora do Syminho!\n");
        } else if (resposta != 's') {
            printf("\nA resposta não condiz com a opção, digite novamente!\n");
        }
    } while (resposta == 's');

    return 0;
}
